{"version":3,"file":"DefaultTreeSection.js","sourceRoot":"","sources":["../../../../../src/pageobjects/sidebar/tree/default/DefaultTreeSection.ts"],"names":[],"mappings":";;;;;;;;;AAAA,gDAA4C;AAE5C,uDAAmD;AAEnD,0CAA8D;AAC9D,yDAGoC;AAGpC;;;;GAIG;AAEI,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,yBAAW;IAA5C;;QACH;;WAEG;QACI,eAAU,GAAG,CAAC,aAAsB,EAAE,oBAA6B,CAAC,CAAA;IAuC/E,CAAC;IArCG,KAAK,CAAC,eAAe;QACjB,MAAM,KAAK,GAAe,EAAE,CAAA;QAC5B,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,SAAS,CAAA;QACrC,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;YAC5B,KAAK,CAAC,IAAI;YACN,iEAAiE;YACjE,MAAM,IAAI,iCAAe,CAAC,IAAI,CAAC,UAAU,EAAE,OAAc,EAAE,IAAI,CAAC,CAAC,IAAI,EAAE,CAC1E,CAAA;SACJ;QACD,OAAO,KAAK,CAAA;IAChB,CAAC;IAED,KAAK,CAAC,QAAQ,CAAE,KAAa,EAAE,QAAQ,GAAG,CAAC;QACvC,MAAM,IAAI,CAAC,MAAM,EAAE,CAAA;QACnB,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,aAAa,CAAA;QAC1C,MAAM,SAAS,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAA;QAClC,IAAI,IAA0B,CAAA;QAC9B,GAAG;YACC,MAAM,IAAI,GAAG,MAAM,SAAS,CAAC,EAAE,CAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAiB,CAAC,KAAK,CAAW,CAAC,CAAA;YACpG,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;gBAC9D,IAAI,QAAQ,GAAG,CAAC,IAAI,KAAK,IAAI,QAAQ,EAAE;oBACnC,iEAAiE;oBACjE,IAAI,GAAG,MAAM,IAAI,iCAAe,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,EAAE,CAAA;iBACjF;aACJ;YACD,IAAI,CAAC,IAAI,EAAE;gBACP,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;gBACzD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACpB,MAAK;iBACR;gBACD,MAAM,SAAS,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAA;aAC1C;SACJ,QAAQ,CAAC,IAAI,EAAC;QAEf,OAAO,IAAI,CAAA;IACf,CAAC;CACJ,CAAA;AA3CY,kBAAkB;IAD9B,IAAA,qBAAa,EAAC,EAAE,GAAG,qBAAmB,EAAE,GAAG,4BAA0B,EAAE,CAAC;GAC5D,kBAAkB,CA2C9B;AA3CY,gDAAkB","sourcesContent":["import { TreeSection } from '../TreeSection'\nimport { TreeItem, AllViewSectionLocators } from '../../..'\nimport { DefaultTreeItem } from './DefaultTreeItem'\n\nimport { PageDecorator, IPageDecorator } from '../../../utils'\nimport {\n    ViewSection as ViewSectionLocators,\n    DefaultTreeSection as DefaultTreeSectionLocators\n} from '../../../../locators/1.73.0'\n\nexport interface DefaultTreeSection extends IPageDecorator<AllViewSectionLocators> { }\n/**\n * Default view section\n *\n * @category Sidebar\n */\n@PageDecorator({ ...ViewSectionLocators, ...DefaultTreeSectionLocators })\nexport class DefaultTreeSection extends TreeSection {\n    /**\n     * @private\n     */\n    public locatorKey = ['ViewSection' as const, 'DefaultTreeSection' as const]\n\n    async getVisibleItems (): Promise<TreeItem[]> {\n        const items: TreeItem[] = []\n        const elements = await this.itemRow$$\n        for (const element of elements) {\n            items.push(\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                await new DefaultTreeItem(this.locatorMap, element as any, this).wait()\n            )\n        }\n        return items\n    }\n\n    async findItem (label: string, maxLevel = 0): Promise<TreeItem | undefined> {\n        await this.expand()\n        const container = await this.rowContainer$\n        await container.addValue(['Home'])\n        let item: TreeItem | undefined\n        do {\n            const temp = await container.$$((this.locatorMap.DefaultTreeItem.ctor as Function)(label) as string)\n            if (temp.length > 0) {\n                const level = +await temp[0].getAttribute(this.locators.level)\n                if (maxLevel < 1 || level <= maxLevel) {\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                    item = await new DefaultTreeItem(this.locatorMap, temp[0] as any, this).wait()\n                }\n            }\n            if (!item) {\n                const lastrow = await container.$$(this.locators.lastRow)\n                if (lastrow.length > 0) {\n                    break\n                }\n                await container.addValue(['Page Down'])\n            }\n        } while (!item)\n\n        return item\n    }\n}\n"]}